(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{af09:function(t,a,e){"use strict";var r=e("fb6b"),s=e.n(r);s.a},ed81:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"-page"},[e("h1",{staticClass:"main-title"},[t._v("产品用户")]),e("div",{staticClass:"search-wrap do-card"},[e("div",{staticClass:"bd"},[e("el-form",{attrs:{inline:"","label-width":"100px"}},[e("el-form-item",{attrs:{label:"产品"}},[e("allApps",{attrs:{"sync-to-store":!0},on:{change:function(a){return t.search(!0)}},model:{value:t.query.appId,callback:function(a){t.$set(t.query,"appId",a)},expression:"query.appId"}})],1),e("el-form-item",{attrs:{label:"日期"}},[e("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handleDateChange},model:{value:t.date,callback:function(a){t.date=a},expression:"date"}})],1)],1),e("div",{staticClass:"ctrl tr"},[e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.search(!0)}}},[t._v("搜索")])],1)],1)]),e("div",{staticClass:"tr",staticStyle:{margin:"-12px 0 12px"}},[e("el-button",{attrs:{size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("下载报表")])],1),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"table-wrap do-card"},[e("div",{staticClass:"bd"},[e("el-table",{staticClass:"hide-border",attrs:{data:t.tableData,border:"","default-sort":{prop:t.defaultSort.prop,order:t.defaultSort.order}},on:{"sort-change":t.handleSortChange}},[e("el-table-column",{attrs:{label:"ID","min-width":"180",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"id"}}),e("el-table-column",{attrs:{label:"用户名","min-width":"100",prop:"name"}}),e("el-table-column",{attrs:{label:"性别",align:"center","min-width":"60",prop:"sex"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.row;return[t._v(" "+t._s(t._f("usersGender")(e.sex))+" ")]}}])}),e("el-table-column",{attrs:{label:"头像",align:"center",width:"60","class-name":"avatar-cell",prop:"avatar"},scopedSlots:t._u([{key:"default",fn:function(t){var a=t.row;return[e("el-image",{staticClass:"avatar",attrs:{src:a.avatar,fit:"contain"}})]}}])}),e("el-table-column",{attrs:{label:"当前金币",align:"right","min-width":"90",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"number"}}),e("el-table-column",{attrs:{label:"当前积分",align:"right","min-width":"90",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"score"}}),e("el-table-column",{attrs:{label:"累计提现次数",align:"right","min-width":"120",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"withdrawalTimes"}}),e("el-table-column",{attrs:{label:"累计提现金额",align:"right","min-width":"120",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"withdrawalAmount"}})],1)],1)]),e("base-pagination",{attrs:{"current-page":t.query.pageNum,"page-size":t.query.pageSize,total:t.total},on:{"current-change":t.handlePnChange,"size-change":t.handleSizeChange}})],1)},s=[],n=(e("d3b7"),e("ac1f"),e("841c"),e("619b")),l=e("c24f"),i=e("4328"),o=e.n(i),d={name:"",components:{},mixins:[n["a"]],data:function(){var t=this.$utils.transferDate(Date.now()-0*MS_PER_DAY),a=this.$utils.transferDate(Date.now()-0*MS_PER_DAY);return{date:[t,a],query:{appId:this.$store.state.apps.activeAppId,startDate:"",endDate:""},queryCache:{}}},props:{},computed:{},methods:{search:function(t){var a=this;this.tableLoading||(t&&(this.query.pageNum=1),this.query.appId?(this.queryCache=Object.assign({},this.query),this.tableLoading=!0,l["a"].getList(this.query).then((function(t){a.total=t.total,a.tableData=t.lists})).finally((function(){a.tableLoading=!1}))):this.$message({type:"warning",message:"请先选择产品"}))},handleDateChange:function(t){this.search(!0)},handleDownload:function(){var t="/api/v1/user/downloadExcel",a=o.a.stringify(this.queryCache),e=a?"?":"";window.open(t+e+a)}},watch:{date:{handler:function(t){var a="",e="";t&&2===t.length&&(a=t[0],e=t[1]),this.query.startDate=a,this.query.endDate=e},immediate:!0}},created:function(){this.queryCache=Object.assign({},this.query),this.search(!0)},mounted:function(){},destroyed:function(){}},c=d,u=(e("af09"),e("2877")),h=Object(u["a"])(c,r,s,!1,null,"262b18da",null);a["default"]=h.exports},fb6b:function(t,a,e){}}]);