(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["withdraw"],{4557:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"-page"},[a("h1",{staticClass:"main-title"},[t._v("提现列表 ")]),a("div",{staticClass:"search-wrap do-card"},[a("div",{staticClass:"bd"},[a("el-form",{attrs:{inline:"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"产品"}},[a("allApps",{attrs:{"sync-to-store":!0},on:{change:function(e){return t.search(!0)}},model:{value:t.query.appId,callback:function(e){t.$set(t.query,"appId",e)},expression:"query.appId"}},[a("template",{slot:"prepend"},[a("el-option",{attrs:{value:"",label:"不限"}})],1)],2)],1),a("el-form-item",{attrs:{label:"登录ID"}},[a("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(!0)}},model:{value:t.query.userId,callback:function(e){t.$set(t.query,"userId",e)},expression:"query.userId"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{on:{change:function(e){return t.search(!0)}},model:{value:t.query.status,callback:function(e){t.$set(t.query,"status",e)},expression:"query.status"}},[a("el-option",{attrs:{value:"",label:"不限"}}),t._l(t.$MAPS.withdraw.status,(function(t,e){return a("el-option",{key:e,attrs:{value:Number(e),label:t}})}))],2)],1),a("el-form-item",{attrs:{label:"提现类型"}},[a("el-select",{attrs:{value:"",placeholder:"不限",clearable:"",filterable:""},on:{change:function(e){return t.search(!0)}},model:{value:t.query.cashType,callback:function(e){t.$set(t.query,"cashType",e)},expression:"query.cashType"}},[a("el-option-group",[a("el-option",{attrs:{value:"",label:"不限"}}),t._l(t.$MAPS.withdraw.type.labelMap,(function(t,e){return a("el-option",{key:e,attrs:{value:+e,label:t}})}))],2)],1)],1),a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.handleDateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("div",{staticClass:"ctrl tr"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search(!0)}}},[t._v("搜索")])],1)],1)]),a("div",{staticClass:"withdraw-info"},[a("div",{staticClass:"amount-total"},[a("span",{staticClass:"label"},[t._v("总提现金额 "),t.existTotalAmount?a("span",[t._v("￥")]):t._e(),t.existTotalAmount?a("span",{staticClass:"money mono"},[t._v(t._s(t._f("money")(t._f("fenMoney")(t.totalAmount),2,!0)))]):a("span",[t._v("-")])])]),a("el-button",{attrs:{size:"small",icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v("下载报表")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"table-wrap do-card"},[a("div",{staticClass:"bd"},[a("el-table",{staticClass:"hide-border",attrs:{data:t.tableData,border:"","default-sort":{prop:t.defaultSort.prop,order:t.defaultSort.order}},on:{"sort-change":t.handleSortChange}},[a("el-table-column",{attrs:{label:"ID","min-width":"180",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"id"}}),a("el-table-column",{attrs:{label:"所属产品","min-width":"80","show-overflow-tooltip":!0,prop:"appId"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("appName")(a.appId))+" ")]}}])}),a("el-table-column",{attrs:{label:"登录ID","min-width":"180",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"userId"}}),a("el-table-column",{attrs:{label:"用户创建时间","min-width":"170",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"userCreateTime"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,r=e.column;return[t._v(" "+t._s(t._f("date")(a[r.property],"dateTime"))+" ")]}}])}),a("el-table-column",{attrs:{label:"提现时间","min-width":"170",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"createTime"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("date")(a.createTime,"dateTime"))+" ")]}}])}),a("el-table-column",{attrs:{label:"Token",prop:"token","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{label:"ARPU",prop:"arpu","min-width":"100",sortable:"custom","sort-orders":t.defaultSortOrders},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("money")(a.arpu,2))+" ")]}}])}),a("el-table-column",{attrs:{label:"时间差(小时)","min-width":"120",align:"right",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"diffHour"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row,r=e.column;return[t._v(" "+t._s(t._f("money")(a[r.property],2))+" ")]}}])}),a("el-table-column",{attrs:{label:"提现方式","min-width":"80","show-overflow-tooltip":!0,prop:"method"}}),a("el-table-column",{attrs:{label:"提现金额(分)","min-width":"120",align:"right",sortable:"custom","sort-orders":t.defaultSortOrders,prop:"amount"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.amount||0===r.amount?a("div",[t._v(t._s(r.amount))]):a("div",[t._v("-")]),t.$MAPS.withdraw.type.labelMap[r.cashType]?a("div",{class:["fs-12","status-"+t.$MAPS.withdraw.type.classMap(r.cashType)]},[t._v(t._s(t._f("labelWithdrawType")(r.cashType)))]):t._e()]}}])}),a("el-table-column",{attrs:{label:"状态","min-width":"100",align:"right",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("el-tag",{attrs:{type:t.statusClass(r.status),size:"small"}},[t._v(t._s(t._f("withdrawStatus")(r.status)))])]}}])})],1)],1)]),a("base-pagination",{attrs:{"current-page":t.query.pageNum,"page-size":t.query.pageSize,total:t.total},on:{"current-change":t.handlePnChange,"size-change":t.handleSizeChange}})],1)},s=[],l=(a("a9e3"),a("d3b7"),a("ac1f"),a("841c"),a("5530")),o=a("2f62"),n=a("619b"),i={getList:function(t){return window.axios.get("/withdraw",{params:t})}},u=a("4328"),c=a.n(u),d={name:"Withdraw",components:{},mixins:[n["a"]],data:function(){return{date:null,query:{appId:this.$store.state.apps.activeAppId,userId:"",startDate:"",endDate:"",status:"",cashType:""},queryCache:{},totalAmount:""}},props:{},computed:Object(l["a"])(Object(l["a"])({},Object(o["b"])({appIds:function(t){return t.apps.allApps}})),{},{existTotalAmount:function(){return this.totalAmount||0===this.totalAmount}}),methods:{search:function(t){var e=this;this.tableLoading||(t&&(this.query.pageNum=1),this.tableLoading=!0,this.queryCache=Object.assign({},this.query),i.getList(this.query).then((function(t){t&&(e.total=t.total,"array"===e.$utils.getRealType(t.lists)?e.tableData=t.lists||[]:"object"===e.$utils.getRealType(t.lists)&&(e.tableData=t.lists.list||[],e.totalAmount=t.lists.totalAmount||""))})).finally((function(){e.tableLoading=!1})))},handleDateChange:function(t){this.search(!0)},statusClass:function(t){var e="info";switch(Number(t)){case 0:e="success";break;case 2:e="danger";break;default:}return e},handleDownload:function(){var t="/api/v1/withdraw/downloadExcel",e=c.a.stringify(this.queryCache),a=e?"?":"";window.open(t+a+e)}},watch:{date:function(t){var e="",a="";t&&2===t.length&&(e=t[0],a=t[1]),this.query.startDate=e,this.query.endDate=a}},created:function(){this.search(!0)},mounted:function(){},destroyed:function(){}},p=d,f=(a("4a2b"),a("2877")),h=Object(f["a"])(p,r,s,!1,null,"50069ace",null);e["default"]=h.exports},"4a2b":function(t,e,a){"use strict";var r=a("64c4"),s=a.n(r);s.a},"64c4":function(t,e,a){}}]);