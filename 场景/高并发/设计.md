# 高并发设计

## 系统拆分

将一个系统拆分为多个子系统，然后每个系统连一个数据库。原来是一个库，现在多个数据库，可以扛高并发。

## 缓存

大部分高并发场景都是读多写少，可以在数据库和缓存都写一份，然后读的时候大量走缓存。

## MQ

大量的并发写请求灌入MQ里进行排队，后面的系统消费后慢慢写，控制在mysql承载范围之内。

## 分库分表

数据库层面也要满足抗高并发的要求，那就将一个数据库拆分为多个库，多个库来扛更高的并发；将一个表拆分为多个表，每个表的数据量保持少一点，提高sql跑的性能。

## 读写分离

大部分时候数据库也是读多写少，没必要所有请求都集中在一个库上。采用主从架构，主库写入，从库读取，实现读写分离。读流量太多的时候还能扩展添加从库。
